import{j as _,u as v,n as g,Y as b,q as w,Z as h,r as S,_ as N,$ as y,a0 as k,a1 as C,f as d,o as A,t as I,g as o,a as u,C as $,D as f,a2 as B}from"./vendor.b5ddaeab.js";import{_ as F,A as M}from"./index.f4c4ab9c.js";const P=_({setup(){const e=v(),s=g(),p=b(),{t:i}=w(),n=h({username:"",password:""}),c={username:{required:!0,trigger:"blur",message:""},password:{required:!0,trigger:"blur",message:""}};let t=S(!1);async function r(){t.value=!0;const{code:l,msg:a}=await e.dispatch("user/LOGIN",n);switch(l){case 200:s.push("/");break;case 1:case 2:n.password="",p.error(a);break}t.value=!1}function m(){let{username:l,password:a}=n;return l===""||a===""}return{APP_NAME:M,loading:t,formState:n,rules:c,handleSubmit:r,invalidForm:m,t:i}},components:{NForm:N,NFormItem:y,NInput:k,NButton:C}}),j={class:"i-container"};function q(e,s,p,i,n,c){const t=d("n-input"),r=d("n-form-item"),m=d("n-button"),l=d("n-form");return A(),I("div",j,[o(l,{model:e.formState,rules:e.rules,class:"form","label-placement":"left"},{default:u(()=>[$("h1",null,f(e.APP_NAME),1),o(r,{path:"username"},{default:u(()=>[o(t,{value:e.formState.username,"onUpdate:value":s[0]||(s[0]=a=>e.formState.username=a),placeholder:e.t("common.username"),"input-props":{autocomplete:"off"}},null,8,["value","placeholder"])]),_:1}),o(r,{path:"password"},{default:u(()=>[o(t,{value:e.formState.password,"onUpdate:value":s[1]||(s[1]=a=>e.formState.password=a),type:"password",placeholder:e.t("common.password"),"input-props":{autocomplete:"off"}},null,8,["value","placeholder"])]),_:1}),o(r,null,{default:u(()=>[o(m,{type:"primary","attr-type":"submit",loading:e.loading,onClick:e.handleSubmit,disabled:e.invalidForm(),style:{"margin-left":"auto",width:"120px"}},{default:u(()=>[B(f(e.t("common.sign_in")),1)]),_:1},8,["loading","onClick","disabled"])]),_:1})]),_:1},8,["model","rules"])])}var D=F(P,[["render",q],["__scopeId","data-v-d8d3840a"]]);export{D as default};
