import{j as S,u as N,n as b,Y as w,q as y,Z as I,r as C,_ as k,$ as A,a0 as B,a1 as M,f as d,o as v,t as O,g as s,a as n,C as g,D as i,c as P,a2 as h,y as E,A as $,B as q}from"./vendor.2a40717c.js";import{_ as F,A as R,O as V}from"./index.37ce1920.js";const j=S({setup(){const e=N(),a=b(),c=w(),{t:f}=y(),r=I({username:"",password:""}),_={username:{required:!0,trigger:"blur",message:""},password:{required:!0,trigger:"blur",message:""}};let t=C(!1);async function l(){t.value=!0;const{code:o,msg:m}=await e.dispatch("user/LOGIN",r);switch(o){case 200:a.push("/");break;case 1:case 2:r.password="",c.error(m);break}t.value=!1}function u(){let{username:o,password:m}=r;return o===""||m===""}function p(){a.push("/")}return{APP_NAME:R,ON_PERMISSION:V,loading:t,formState:r,rules:_,handleSubmit:l,handleCancel:p,invalidForm:u,t:f}},components:{NForm:k,NFormItem:A,NInput:B,NButton:M}}),D=e=>($("data-v-f4eb972a"),e=e(),q(),e),U={class:"i-container"},G=D(()=>g("p",{class:"i-form-msg"},null,-1));function L(e,a,c,f,r,_){const t=d("n-input"),l=d("n-form-item"),u=d("n-button"),p=d("n-form");return v(),O("div",U,[s(p,{model:e.formState,rules:e.rules,class:"i-form","label-placement":"left"},{default:n(()=>[g("h1",null,i(e.APP_NAME),1),s(l,{path:"username"},{default:n(()=>[s(t,{value:e.formState.username,"onUpdate:value":a[0]||(a[0]=o=>e.formState.username=o),placeholder:e.t("common.username"),"input-props":{autocomplete:"off"}},null,8,["value","placeholder"])]),_:1}),s(l,{path:"password"},{default:n(()=>[s(t,{value:e.formState.password,"onUpdate:value":a[1]||(a[1]=o=>e.formState.password=o),type:"password",placeholder:e.t("common.password"),"input-props":{autocomplete:"off"}},null,8,["value","placeholder"])]),_:1}),s(l,null,{default:n(()=>[G,e.ON_PERMISSION?E("",!0):(v(),P(u,{key:0,quaternary:"",style:{margin:"0 12px 0 0"},onClick:e.handleCancel},{default:n(()=>[h(i(e.t("common.cancel")),1)]),_:1},8,["onClick"])),s(u,{type:"primary","attr-type":"submit",loading:e.loading,onClick:e.handleSubmit,disabled:e.invalidForm(),style:{width:"120px"}},{default:n(()=>[h(i(e.t("common.sign_in")),1)]),_:1},8,["loading","onClick","disabled"])]),_:1})]),_:1},8,["model","rules"])])}var Z=F(j,[["render",L],["__scopeId","data-v-f4eb972a"]]);export{Z as default};
